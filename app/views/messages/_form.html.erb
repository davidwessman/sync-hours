<% contacts ||= [] %>
<% contact ||= nil %>
<%= form_with(model: [:account, message], local: true,
              class: 'py-2') do |form| %>
  <div class="mb-4">
    <% if contact %>
      <%= form.hidden_field(:contact_id, value: contact.id) %>
    <% else %>
      <%= form.label(:contact, class: 'form-label ') %>
      <%= form.select(:contact_id, contacts.collect { |c| ["#{c.to_s} (#{c.phone})", c.id] }, {}, id: 'contact', class: 'form-select mt-1 block w-full') %>
    <% end %>
  </div>
  <div class="mb-4">
    <%= form.label(:content, class: 'form-label ') %>
    <%= form.text_area(:content, id: 'content', autofocus: true, rows: 10,
                                  class: 'shadow appearance-none border rounded w-full py-2 px-3 text-grey-darker') %>
  </div>
  <div class="flex items-center justify-between">
    <%= form.submit(class: 'button button-blue mb-3') %>
  </div>
<% end %>
